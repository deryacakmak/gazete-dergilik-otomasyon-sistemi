<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
    <title>Journal Upload</title>

    <style>
        .Bimage{
            background-image:url("resources/images/login.jpg");
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment:fixed;
        }

    </style>
</h:head>
<h:body styleClass="Bimage">
<h:form id="uploadJournalForm" enctype="multipart/form-data" >

    <h:panelGrid columns="1" style="margin:auto;margin-top:5%">

        <p:selectOneRadio id="console" value="#{uploadJournalDto.type}" unselectable="true">
            <f:selectItem itemLabel="DERGİ" itemValue="Dergi" />
            <f:selectItem itemLabel="GAZETE" itemValue="Gazete" />
        </p:selectOneRadio>


            <p:outputLabel for="title" styleClass="p-col-fixed" style="width:100px"/>
            <div class="p-col">
                <p:inputText id="title"   value="#{uploadJournalDto.title}" placeholder="Yayın Başlığı" />
            </div>


            <p:outputLabel for="event"/>
            <p:datePicker id="event" value="#{uploadJournalDto.date}" placeholder="Yayın Tarihini Seçin">
            </p:datePicker>


            <p:outputLabel for="issueNumber" styleClass="p-col-fixed" style="width:100px"/>
            <div class="p-col">
                <p:inputText id="issueNumber"  value="#{uploadJournalDto.issueNumber}" placeholder="Yayın Sayısı"/>
            </div>



            <p:outputLabel for="@next" value="Yayıncı"/>
            <p:selectOneMenu id="lazy" value="#{uploadJournalDto.publisher}" dynamic="true" style="width:200px">
                <f:selectItem itemLabel="Yayıncı Seç" itemValue=" "/>
                <f:selectItems value="#{publisherController.getAllPublisher()}"/>
            </p:selectOneMenu>

            <p:outputLabel for="yayıncı" styleClass="ui-sr-only"/>
            <p:inputText id="yayıncı" value="#{uploadJournalDto.publisher}"  placeholder="Yeni Yayıncı Ekle"/>
            <p:commandButton  value="Ekle" action="#{publisherController.savePublisher(uploadJournalDto)}" />


            <p:outputLabel for="@next" value="Yayın Türü"/>
            <p:selectOneMenu id="lazy2" value="#{uploadJournalDto.genre}" dynamic="true" style="width:200px">
                <f:selectItem itemLabel="Yayın Türü Seçin" itemValue=" "/>
                <f:selectItems value="#{genreController.getAllGenre()}"/>
            </p:selectOneMenu>
            <p:outputLabel for="tür" styleClass="ui-sr-only"/>
            <p:inputText id="tür"  value="#{uploadJournalDto.genre}" placeholder="Yeni Tür Ekle"/>
        <p:commandButton  value="Ekle" action="#{genreController.addGenre(uploadJournalDto)}" />
        <p:outputLabel value = "Dosya Yükle"/>

        <h:form enctype="multipart/form-data">

            <p:fileUpload value="#{uploadJournalDto.file}" mode="simple" skinSimple="true"/>
            <p:commandButton value="Yükle" ajax="false" actionListener="#{fileUploadedController.upload(uploadJournalDto)}"/>
        </h:form>

        <p:commandButton value="Yayın Ekle" ajax="false" actionListener="#{journalController.addJournal(uploadJournalDto)}"
                        style="top: 25px;background: steelblue; color: white;margin-left: 15%" />
            <p:messages></p:messages>

    </h:panelGrid>


</h:form>



</h:body  >
</html>
